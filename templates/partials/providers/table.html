{# Providers table partial #}
<table class="w-full text-sm">
    <thead class="bg-[#36323e] text-slate-300 text-left sticky top-0">
        <tr>
            <th class="px-4 py-3 font-medium">Name</th>
            <th class="px-4 py-3 font-medium">Team</th>
            <th class="px-4 py-3 font-medium">Role</th>
            <th class="px-4 py-3 font-medium">Certification</th>
            <th class="px-4 py-3 font-medium">Sessions</th>
            <th class="px-4 py-3 font-medium">Last Session</th>
            <th class="px-4 py-3 font-medium">JcLS</th>
            <th class="px-4 py-3 font-medium">Trend</th>
            <th class="px-4 py-3 font-medium">Status</th>
            <th class="px-4 py-3 font-medium">Actions</th>
        </tr>
    </thead>
    <tbody class="divide-y divide-[rgba(255,255,255,0.10)]">
        {% for provider in providers %}
        <tr class="hover:bg-[#36323e]">
            <td class="px-4 py-3">
                <a href="/providers/{{ provider.id }}" class="text-slate-100 font-medium hover:text-[#dc2626]">
                    {{ provider.name }}
                </a>
            </td>
            <td class="px-4 py-3 text-slate-200">
                {% for team in teams if team.id == provider.team_id %}
                {{ team.name }}
                {% endfor %}
            </td>
            <td class="px-4 py-3 text-slate-200">{{ provider.role }}</td>
            <td class="px-4 py-3">
                {% if provider.certification == 'ACP' %}
                {% set badge_text = "ACP" %}
                {% set badge_variant = "error" %}
                {% elif provider.certification == 'PCP' %}
                {% set badge_text = "PCP" %}
                {% set badge_variant = "warning" %}
                {% else %}
                {% set badge_text = provider.certification %}
                {% set badge_variant = "neutral" %}
                {% endif %}
                {% include "components/badge.html" %}
            </td>
            <td class="px-4 py-3 text-slate-200">--</td>
            <td class="px-4 py-3 text-slate-400 text-xs">--</td>
            <td class="px-4 py-3">
                {% if provider.avg_jcls_score %}
                <span class="font-bold {% if provider.avg_jcls_score >= 80 %}text-[#16a34a]{% elif provider.avg_jcls_score >= 60 %}text-amber-500{% else %}text-[#dc2626]{% endif %}">
                    {{ provider.avg_jcls_score }}
                </span>
                {% else %}
                <span class="text-slate-400">&mdash;</span>
                {% endif %}
            </td>
            <td class="px-4 py-3">
                <span class="text-slate-400 text-xs">â€”</span>
            </td>
            <td class="px-4 py-3">
                {% if provider.status == 'active' %}
                {% set badge_text = "Active" %}
                {% set badge_variant = "success" %}
                {% else %}
                {% set badge_text = "Inactive" %}
                {% set badge_variant = "neutral" %}
                {% endif %}
                {% include "components/badge.html" %}
            </td>
            <td class="px-4 py-3">
                <div class="flex items-center gap-2">
                    <a href="/providers/{{ provider.id }}" class="text-slate-400 hover:text-slate-300" title="View details">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                        </svg>
                    </a>
                    <button class="text-slate-400 hover:text-slate-300" title="Edit">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                    </button>
                </div>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="10" class="px-4 py-12">
                {% set empty_icon = "users" %}
                {% set empty_title = "No providers match your filters" %}
                {% set empty_message = "Try adjusting your filter criteria" %}
                {% set empty_cta_text = "Reset filters" %}
                {% set empty_cta_href = "/providers" %}
                {% include "components/empty_state.html" %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
