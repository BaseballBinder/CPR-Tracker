{#
  Skeleton Component

  Usage:
    {% set skeleton_type = "card" %}
    {% set skeleton_count = 4 %}
    {% include "components/skeleton.html" %}

  Types: card, table, chart, stat
#}

{% if skeleton_type == 'stat' %}
{# Stat card skeleton #}
<div class="bg-[#3e3a46] rounded-[6px] p-4 border border-[rgba(255,255,255,0.10)] shadow-sm animate-pulse">
    <div class="flex items-center justify-between">
        <div class="flex-1">
            <div class="h-4 bg-[#46424e] rounded w-24 mb-2"></div>
            <div class="h-8 bg-[#46424e] rounded w-16"></div>
        </div>
        <div class="w-10 h-10 bg-[#46424e] rounded-[6px]"></div>
    </div>
    <div class="mt-2">
        <div class="h-3 bg-[#46424e] rounded w-20"></div>
    </div>
</div>

{% elif skeleton_type == 'table' %}
{# Table skeleton #}
<div class="bg-[#3e3a46] rounded-[6px] border border-[rgba(255,255,255,0.10)] shadow-sm overflow-hidden animate-pulse">
    {# Header #}
    <div class="bg-[#36323e] px-4 py-3 flex gap-4">
        {% for i in range(skeleton_count | default(5)) %}
        <div class="h-4 bg-[#46424e] rounded flex-1"></div>
        {% endfor %}
    </div>
    {# Rows #}
    {% for row in range(5) %}
    <div class="px-4 py-3 border-t border-[rgba(255,255,255,0.10)] flex gap-4">
        {% for i in range(skeleton_count | default(5)) %}
        <div class="h-4 bg-[#46424e] rounded flex-1"></div>
        {% endfor %}
    </div>
    {% endfor %}
</div>

{% elif skeleton_type == 'chart' %}
{# Chart skeleton #}
<div class="bg-[#3e3a46] rounded-[6px] p-4 border border-[rgba(255,255,255,0.10)] shadow-sm animate-pulse">
    <div class="flex items-center justify-between mb-4">
        <div class="h-5 bg-[#46424e] rounded w-32"></div>
        <div class="h-8 bg-[#46424e] rounded w-40"></div>
    </div>
    <div class="h-64 bg-[#36323e] rounded-[6px] flex items-end justify-around p-4 gap-2">
        {% for i in range(6) %}
        <div class="bg-[#46424e] rounded-t w-8" style="height: {{ [40, 60, 80, 55, 75, 45][i % 6] }}%"></div>
        {% endfor %}
    </div>
</div>

{% else %}
{# Generic card skeleton #}
<div class="bg-[#3e3a46] rounded-[6px] p-4 border border-[rgba(255,255,255,0.10)] shadow-sm animate-pulse">
    <div class="h-5 bg-[#46424e] rounded w-1/3 mb-4"></div>
    <div class="space-y-3">
        {% for i in range(skeleton_count | default(3)) %}
        <div class="h-4 bg-[#46424e] rounded"></div>
        {% endfor %}
    </div>
</div>
{% endif %}
